// Module included in the following assemblies:
//
// * machine_management/creating_machinesets/creating-machineset-aws.adoc

[id="machineset-creating-non-guaranteed-instance_{context}"]
= Creating Spot Instances by using MachineSets

You can launch a Spot Instance on AWS by adding `spotMarketOptions` to your `MachineSet` YAML file.

.Procedure
* Add the following line under the `providerSpec` field:
+
[source,yaml]
----
providerSpec:
  value:
    spotMarketOptions: {}
----

Optional: You can set the `spotMarketOptions.maxPrice` field to limit the cost of the Spot Instance. For example, you can set `maxPrice: '2.50'`.

If the `maxPrice` is set, this value is used as the hourly maximum spot price. If it is not set, the maximum price defaults to charge up to the On-Demand Instance price.

[NOTE]
====
It is strongly recommended to use the default On-Demand price as the `maxPrice` value and to not set the maximum price for Spot Instances.
====
